<div id="loader" class="loader-screen">
    <div class="loader-inner">
        <span class="loader-label">loading...</span>
        <div class="loader-bar">
            <div class="loader-bar-fill"></div>
        </div>
    </div>
</div>

<style>
    .loader-screen {
        position: fixed;
        inset: 0;
        background: var(--colour-bg, #f7f7f7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.6s ease;
        opacity: 1;
    }

    .loader-inner {
        width: min(320px, 70vw);
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .loader-label {
        font-size: var(--font-size-xs, 0.75rem);
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: var(--colour-fg-muted, #666);
        font-family: Montserrat, monospace;
    }

    .loader-bar {
        width: 100%;
        height: 2px;
        background: var(--colour-border, #ddd);
        overflow: hidden;
        position: relative;
    }

    .loader-bar-fill {
        position: absolute;
        inset: 0;
        width: 0%;
        background: var(--colour-accent, #111);
        animation: loader-fill 1.8s ease-out forwards;
    }

    @keyframes loader-fill {
        from {
            width: 0%;
        }
        to {
            width: 100%;
        }
    }
</style>

<script>
    // Basic timed loader (~2.1s including fade).
    const LOADER_VISIBLE_MS = 2100;
    const FADE_DURATION_MS = 600;

    setTimeout(() => {
        const el = document.getElementById("loader");
        if (!el) return;

        el.style.opacity = "0";
        setTimeout(() => {
            el.remove();
        }, FADE_DURATION_MS);
    }, LOADER_VISIBLE_MS);
</script>
