<div id="loader" class="loader-screen">
    <div class="loader-inner">
        <span class="loader-label">loading...</span>
        <div class="loader-bar">
            <div class="loader-bar-fill"></div>
        </div>
    </div>
</div>

<script>
    (function () {
        // Basic timed loader (~2.1s including fade). Skip after first session load.
        const LOADER_VISIBLE_MS = 2100;
        const FADE_DURATION_MS = 600;
        const STORAGE_KEY = "portfolio-loaded";

        const el = document.getElementById("loader");
        if (!el) return;

        const loadedBefore =
            typeof window !== "undefined" &&
            window.sessionStorage?.getItem(STORAGE_KEY) === "1";

        if (loadedBefore) {
            el.remove();
            return;
        }

        window.sessionStorage?.setItem(STORAGE_KEY, "1");
        setTimeout(() => {
            el.style.opacity = "0";
            setTimeout(() => {
                el.remove();
            }, FADE_DURATION_MS);
        }, LOADER_VISIBLE_MS);
    })();
</script>
